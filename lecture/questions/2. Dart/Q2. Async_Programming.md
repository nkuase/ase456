---
marp: true
---

# Q2. Dart Async Programming

---

## Question 1

This is a list of the benefits of using async programming. Which is not correct?

- **Network requests**: API calls, file downloads
- **File I/O**: Reading/writing files
- **Database operations**: Querying databases
- **UI responsiveness**: Keep app responsive during operations
- **User experience**: Prevent app freezing
- **Extensive use multi-core**: Usage of multi-thread and multi-core programming

---

**Answer:**

---

## Question 2

What are three keywords when we use Dart async programming?

---

**Answer:**

---

## Question 3

Write Dart async code by filling in ??#

```dart
import 'dart:??1';

??2<void> fetchUserData() ??1 {
  print("1. Starting request...");
  // This doesn't block! Other code can run
  ??3 Future.delayed(Duration(seconds: 3));
  print("2. User data received!");
}
```

---

**Answer:**

---

## Question 3

What is the keyword (???) we should wait for the computation to finish?

```dart
??? Future.delayed(Duration(seconds: 3));
print("2. User data received!");
```

---

**Answer:**

---

## Question 4

```dart
await Future.delayed(Duration(seconds: 3));
print("2. User data received!");
```

(T/F) The async function "Future.delayed" is moved to an event queue; The next code (print("2 ...)) waits for the "Future.delayed" to return, as all the code after the await should wait for the async function to return.

---

**Answer:**

---

## Question 5

(T/F) When we have await in the function body, we should add async in the header of the Dart function.

---

**Answer:**

---

## Question 6

(T/F) In this code, the `async` function "fetchUserData()" returns a Future (not a real value, but just a promise to return a value); There is no `await`, so the next code (print("3...)) is run anyways.

```dart
fetchUserData(); // async
print("3. This waits until above is done");
```

---

**Answer:**

---

## Question 7

```dart
// Using .then() (harder to read)
void fetchDataWithThen() {
  fetchUserData()
    .??1((userData) => fetchUserPosts(userData.id))
    .??1((posts) => processosts(posts))
    .??1((result) => print('Result: $result'))
    .??2((error) => print('Error: $error'));
}
```

This is the async code without using async/await syntax. What is the ??1 to wait for the answer, and what is ??2 to catch the error?

---

**Answer:**

---

## Question 8

Rewrite this code using async/await.

```dart
// Using .then() (harder to read)
void fetchDataWithThen() {
  fetchUserData()
    .then((userData) => fetchUserPosts(userData.id))
    .then((posts) => processosts(posts))
    .then((result) => print('Result: $result'))
    .catchError((error) => print('Error: $error'));
}
```

Hint:

```dart
// Using async/await (easier to read)
??1<void> fetchDataWithAsync() ??2 {
  try {
    final userData = ??3 fetchUserData();
    ...
  } catch (error) {
    print('Error: $error');
  }
}
```

---

**Answer:**

---

## Question 9

This is a list of the benefits of async/await, which is wrong?

- More readable, looks like normal code
- Better error handling with try/catch
- Easier debugging
- Less nested callbacks
- Speed up in computation-intensive work

---

**Answer:**

---

## Question 10

This is code to handle errors in async/await code?
What are the keywords in ??#

```dart
Future<String> fetchDataWithErrorHandling() async {
  try {
    // Multiple async operations
    final user = await fetchUser();
    return 'All data loaded successfully';
    
  } ??1 NetworkException ??2 (e) {
    ...
  } ??1 FormatException ??2 (e) {
    ...
  } ??2 (e) {
    ...
  } ??3 {
    ...
  }
}
```

---

**Answer:**

---

## Question 12

(T/F) We can use the `then` function to use the callback function; Using `then`, we can remove the `await/async`.

```dart
v = await function(); f(v)
function().then((v) => f(v))
```

---

**Answer:**

---

## Question 13

Rewrite this code using await:

```dart
function().then((v) => f(v));
```

Hint:

```dart
var v = ??? function();
f(v);
```

---

**Answer:**

---

## Question 14

(T/F) This code takes 6 seconds in total.

```dart
Future<void> sequentialOperations() async {
  final user = await fetchUser();        // Wait 2 seconds
  final posts = await fetchPosts();      // Wait 2 seconds
  final comments = await fetchComments(); // Wait 2 seconds
  // Total: 6 seconds
}
```

---

**Answer:**

---

## Question 15

Rewrite this JavaScript code using Dart:

```javascript
// Using it:
async function main() {
  try {
    const user = await fetchUserData(123); //   Gets "John Doe"
    console.log(user);
  } catch (error) {
    console.log(error.message); // Handles any   rejection
  }
}  
```

---

**Answer:**

---

## Question 16

This is a list of Dart/JavaScript async programming. Which is wrong?

- Different concept, different syntax.
- Promise -> Futures
- async function -> async { ... }
- resolve/reject vs if/else

---

**Answer:**

---

## Summary

We have 16 questions on this page.

1. How many questions did you answer? ( /16)
2. What percentage of questions did you answer? (  %)
3. List question numbers that you cannot answer:
4. (Optional) Explain why you could not answer these questions.